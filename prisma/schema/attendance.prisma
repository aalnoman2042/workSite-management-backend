

model Attendance {
  id          String            @id @default(uuid())
  
  worker      Worker            @relation(fields: [workerId], references: [id])
  workerId    String
  
  site        Site              @relation(fields: [siteId], references: [id])
  siteId      String
  
  siteEngineer          SITE_Engineer      @relation(fields: [siteEngineerId], references: [id])
  siteEngineerId        String            // who marked the attendance
  
  date        DateTime
  
  status      AttendanceStatus  // PRESENT / ABSENT
  
  hoursWorked Float?
  isHalfDay   Boolean           @default(false)
  ispaid      Boolean           @default(false)

  verifiedBy  String?           // chief engineer ID (optional)
  verifiedAt  DateTime?
  
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt

  @@map("Attendances")
}
